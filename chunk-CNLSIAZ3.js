import{a as G,b as T,c as P,d as V,e as _}from"./chunk-6AI766QY.js";import{b as C,c as f,e as F,f as k,h as A,i as L,j as N,k as R,m as B,n as q,o as D}from"./chunk-LJW6TDUS.js";import{a as E}from"./chunk-LRCODGVP.js";import"./chunk-XSSXK7EZ.js";import"./chunk-IWKJIBAF.js";import"./chunk-BIZUH3PH.js";import{e as I,f as j}from"./chunk-C6BRYRYM.js";import{a as x,d as w}from"./chunk-O3TBEYO6.js";import"./chunk-6ICFUDYJ.js";import"./chunk-2TSUYDBP.js";import"./chunk-VELDXNG4.js";import{i as M}from"./chunk-MFXFRBM3.js";import{s as y}from"./chunk-6M6X6DMA.js";import{Db as s,Nb as S,Ob as p,Ra as l,Sa as m,T as h,ba as v,fb as u,ib as g,lb as r,mb as i,nb as c,ub as b}from"./chunk-OK7OUPQM.js";import"./chunk-JQ2Q4TV4.js";var O=(()=>{let e=class e{constructor(){this.loading=!1}isLoading(){return this.loading}showLoading(){this.loading=!0}hideLoading(){this.loading=!1}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var J=()=>({"background-color":"transparent","border-color":"grey"}),K=()=>({width:"100%"}),Q=()=>({width:"100%","background-color":"transparent","border-color":"grey"}),ue=(()=>{let e=class e{constructor(o,t,a,d,U){this.authService=o,this.formBuilder=t,this.route=a,this.loading=d,this.messageService=U,this.form=this.formBuilder.group({email:["",[f.email,f.required]],password:["",[f.required]]})}logout(){this.authService.logoutAndRedirect()}submit(){let o=this.route.snapshot.queryParams.goTo??"/demo",t=this.form.getRawValue(),a={email:t.email,password:t.password};this.authService.loginAndRedirect(a,o).subscribe({error:d=>this.loginError(d)})}loginError(o){this.messageService.add({severity:"error",summary:"Oh, n\xE3o!",detail:o.error.message,key:"demo-main"})}};e.\u0275fac=function(t){return new(t||e)(m(E),m(R),m(x),m(O),m(M))},e.\u0275cmp=v({type:e,selectors:[["app-login"]],standalone:!0,features:[S],decls:21,vars:11,consts:[[1,"demo-bg","p-5","min-h-screen","flex","align-items-center"],[1,"glass","border-round-xl","md:w-8","max-w-24rem","mx-auto","p-5","flex","flex-column","gap-6","justify-content-center",3,"ngSubmit","formGroup"],[1,"m-0"],[1,"mb-3","flex","flex-wrap","gap-2","justify-content-center"],["routerLink","../cadastro"],[1,"flex","flex-column","gap-2"],["for","email"],["pInputText","","id","email","formControlName","email","placeholder","Email"],[1,"flex","justify-content-between","align-content-end"],["for","pwd"],["toggleMask","true","id","pwd","formControlName","password","placeholder","Senha",3,"feedback","inputStyle"],[1,"flex","justify-content-center"],["label","Login","type","submit",3,"disabled"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"form",1),b("ngSubmit",function(){return a.submit()}),r(2,"h1",2),s(3,"Bem vindo!"),i(),r(4,"div",3)(5,"span"),s(6,"Ainda n\xE3o tem uma conta?"),i(),r(7,"span")(8,"a",4),s(9,"Cadastre sua institui\xE7\xE3o"),i()()(),r(10,"div",5)(11,"label",6),s(12,"Email:"),i(),c(13,"input",7),i(),r(14,"div",5)(15,"div",8)(16,"label",9),s(17,"Senha:"),i()(),c(18,"p-password",10),i(),r(19,"div",11),c(20,"p-button",12),i()()()),t&2&&(l(),u("formGroup",a.form),l(12),g(p(8,J)),l(5),g(p(9,K)),u("feedback",!1)("inputStyle",p(10,Q)),l(2),u("disabled",!a.form.valid))},dependencies:[y,B,A,C,F,k,L,N,w,j,I,T,G,D,q,V,P,_]});let n=e;return n})();export{ue as LoginComponent};
