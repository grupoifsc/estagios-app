import{a as pe,b as ue,d as he,e as be,f as Ce}from"./chunk-ZYAJCVHV.js";import{b as ge}from"./chunk-5OHPEZTV.js";import{a as ne,b as ae,c as re,d as le,e as se,f as me}from"./chunk-5QUZC232.js";import{a as de,b as ce}from"./chunk-MZUMFQTG.js";import"./chunk-GVFXADYD.js";import{a as _e}from"./chunk-JJQTQM5B.js";import{f as fe,g as ve}from"./chunk-3LEAUZE5.js";import{a as Y,b as Z,c as te,d as ie,e as oe}from"./chunk-6AI766QY.js";import{b as O,c as d,e as H,f as W,h as J,i as U,j as K,k as Q,m as X,n as $,o as ee}from"./chunk-LJW6TDUS.js";import"./chunk-U4YWP6KT.js";import"./chunk-IB2Y4GOX.js";import{a as j}from"./chunk-WPMHZY2P.js";import"./chunk-P4QSJQM7.js";import"./chunk-XSSXK7EZ.js";import"./chunk-7J7XJZ7Y.js";import"./chunk-BIZUH3PH.js";import{e as q,f as L}from"./chunk-C6BRYRYM.js";import{c as D}from"./chunk-O3TBEYO6.js";import"./chunk-6ICFUDYJ.js";import"./chunk-2TSUYDBP.js";import{a as M,b as k}from"./chunk-OP5TBEWT.js";import"./chunk-VELDXNG4.js";import"./chunk-OKHOSK7W.js";import{i as G,n as z}from"./chunk-MFXFRBM3.js";import{m as B,s as R}from"./chunk-6M6X6DMA.js";import{Db as a,Jb as I,Kb as A,Lb as N,Nb as V,Ob as p,Ra as o,Sa as F,ba as P,cb as S,fb as s,ib as v,jb as c,ka as _,la as y,lb as i,mb as t,nb as m,rb as E,ub as b,vb as x}from"./chunk-OK7OUPQM.js";import"./chunk-JQ2Q4TV4.js";var w=()=>({"background-color":"transparent"}),ye=()=>({width:"40vw"}),Se=()=>({"767px":"70vw","575px":"90vw"}),g=()=>({width:"100%"});function Fe(r,u){r&1&&(i(0,"div",12),m(1,"i",13),t())}function xe(r,u){if(r&1){let e=E();i(0,"h1",14),a(1,"Dados da Institui\xE7\xE3o"),t(),i(2,"form",15)(3,"div",16)(4,"label",17),a(5,"Nome:"),t(),m(6,"input",18),t(),i(7,"div",19)(8,"div",20)(9,"label",21),a(10,"Tipo de Institui\xE7\xE3o:"),t(),i(11,"div",19)(12,"div",22),m(13,"p-radioButton",23),i(14,"label",24),a(15,"Institui\xE7\xE3o de Ensino"),t()(),i(16,"div",22),m(17,"p-radioButton",25),i(18,"label",26),a(19,"Empresa"),t()()()(),i(20,"div",27)(21,"label",28),a(22,"CNPJ:"),t(),m(23,"p-inputMask",29),t()(),i(24,"div",16)(25,"label",30),a(26,"Informa\xE7\xF5es de perfil:"),t(),i(27,"textarea",31),a(28,"                            "),t()()(),i(29,"div",32)(30,"p-button",33),b("onClick",function(){let n=_(e).nextCallback;return y(n.emit())}),t()()}if(r&2){let e=x();o(2),s("formGroup",e.profileForm),o(4),c(e.profileForm.controls.nome.invalid&&(e.profileForm.controls.nome.dirty||e.profileForm.controls.nome.touched)?"ng-invalid ng-dirty":""),o(7),s("value",!0),o(4),s("value",!1),o(6),v(p(14,g)),c(e.profileForm.controls.cnpj.invalid&&(e.profileForm.controls.cnpj.dirty||e.profileForm.controls.cnpj.touched)?"ng-invalid ng-dirty":""),s("unmask",!0),o(4),c(e.profileForm.controls.info.invalid&&(e.profileForm.controls.info.dirty||e.profileForm.controls.info.touched)?"ng-invalid ng-dirty":""),s("autoResize",!0),o(3),s("disabled",!e.profileForm.valid)}}function Ee(r,u){r&1&&(i(0,"div",34),m(1,"i",35),t())}function we(r,u){if(r&1){let e=E();i(0,"h1",14),a(1,"Endere\xE7o"),t(),i(2,"form",36)(3,"div",37)(4,"div",16)(5,"label",38),a(6,"Endere\xE7o:"),t(),m(7,"input",39),t()(),i(8,"div",40)(9,"div",16)(10,"label",41),a(11,"Bairro:"),t(),m(12,"input",42),t()(),i(13,"div",43)(14,"div",16)(15,"label",44),a(16,"Cidade:"),t(),m(17,"input",45),t()(),i(18,"div",43)(19,"div",16)(20,"label",46),a(21,"Estado:"),t(),m(22,"p-dropdown",47),t()(),i(23,"div",43)(24,"div",16)(25,"label",48),a(26,"Pa\xEDs:"),t(),m(27,"p-dropdown",49),t()()(),i(28,"div",50)(29,"p-button",51),b("onClick",function(){let n=_(e).prevCallback;return y(n.emit())}),t(),i(30,"p-button",33),b("onClick",function(){let n=_(e).nextCallback;return y(n.emit())}),t()()}if(r&2){let e=x();o(2),s("formGroup",e.addressForm),o(5),c(e.addressForm.controls.rua.invalid&&(e.addressForm.controls.rua.dirty||e.addressForm.controls.rua.touched)?"ng-invalid ng-dirty":""),o(5),c(e.addressForm.controls.bairro.invalid&&(e.addressForm.controls.bairro.dirty||e.addressForm.controls.bairro.touched)?"ng-invalid ng-dirty":""),o(5),c(e.addressForm.controls.cidade.invalid&&(e.addressForm.controls.cidade.dirty||e.addressForm.controls.cidade.touched)?"ng-invalid ng-dirty":""),o(5),v(p(18,g)),c(e.addressForm.controls.estado.invalid&&(e.addressForm.controls.estado.dirty||e.addressForm.controls.estado.touched)?"ng-invalid ng-dirty":""),s("options",e.states),o(5),v(p(19,g)),c(e.addressForm.controls.pais.invalid&&(e.addressForm.controls.pais.dirty||e.addressForm.controls.pais.touched)?"ng-invalid ng-dirty":""),s("options",e.countries),o(3),s("disabled",!e.addressForm.valid)}}function Me(r,u){r&1&&(i(0,"div",34),m(1,"i",52),t())}function ke(r,u){if(r&1){let e=E();i(0,"h1",14),a(1,"Contato"),t(),i(2,"form",36)(3,"div",40)(4,"div",16)(5,"label",53),a(6,"Email Institucional para contato:"),t(),m(7,"input",54),t()(),i(8,"div",40)(9,"div",16)(10,"label",55),a(11,"Telefone Institucional:"),t(),m(12,"p-inputMask",56),t()(),i(13,"div",37)(14,"div",16)(15,"label",57),a(16,"Website:"),t(),m(17,"input",58),t()(),i(18,"div",37)(19,"div",16)(20,"label",59),a(21,"Redes Sociais:"),t(),i(22,"div",19)(23,"div",43),m(24,"input",60),t(),i(25,"div",43),m(26,"input",61),t()()()()(),i(27,"form",36)(28,"h4",62),a(29,"Contato para Candidaturas (opcional)"),t(),i(30,"div",40)(31,"div",16)(32,"label",63),a(33,"Email de RH:"),t(),m(34,"input",64),t()(),i(35,"div",40)(36,"div",16)(37,"label",65),a(38,"Telefone de RH:"),t(),m(39,"p-inputMask",66),t()()(),i(40,"div",50)(41,"p-button",51),b("onClick",function(){let n=_(e).prevCallback;return y(n.emit())}),t(),i(42,"p-button",33),b("onClick",function(){let n=_(e).nextCallback;return y(n.emit())}),t()()}if(r&2){let e=x();o(2),s("formGroup",e.mainContactForm),o(5),c(e.mainContactForm.controls.email.invalid&&(e.mainContactForm.controls.email.dirty||e.mainContactForm.controls.email.touched)?"ng-invalid ng-dirty":""),o(5),v(p(25,g)),c(e.mainContactForm.controls.telefone.invalid&&(e.mainContactForm.controls.telefone.dirty||e.mainContactForm.controls.telefone.touched)?"ng-invalid ng-dirty":""),o(5),c(e.mainContactForm.controls.website.invalid&&(e.mainContactForm.controls.website.dirty||e.mainContactForm.controls.website.touched)?"ng-invalid ng-dirty":""),o(7),v(p(26,g)),c(e.mainContactForm.controls.redesSociaisA.invalid&&(e.mainContactForm.controls.redesSociaisA.touched||e.mainContactForm.controls.redesSociaisA.dirty)?"ng-invalid ng-dirty":""),o(2),v(p(27,g)),c(e.mainContactForm.controls.redesSociaisB.invalid&&(e.mainContactForm.controls.redesSociaisB.touched||e.mainContactForm.controls.redesSociaisB.dirty)?"ng-invalid ng-dirty":""),o(),s("formGroup",e.applianceContactForm),o(7),c(e.applianceContactForm.controls.email.invalid&&(e.applianceContactForm.controls.email.dirty||e.applianceContactForm.controls.email.touched)?"ng-invalid ng-dirty":""),o(5),v(p(28,g)),c(e.applianceContactForm.controls.telefone.invalid&&(e.applianceContactForm.controls.telefone.dirty||e.applianceContactForm.controls.telefone.touched)?"ng-invalid ng-dirty":""),o(3),s("disabled",!e.mainContactForm.valid)}}function Te(r,u){r&1&&(i(0,"div",34),m(1,"i",67),t())}function Pe(r,u){r&1&&(i(0,"ul",76)(1,"li"),a(2,"Utilize uma senha segura"),t()())}function Ie(r,u){r&1&&(i(0,"div",77),a(1," Ooops, as senhas n\xE3o conferem! "),t())}function Ae(r,u){if(r&1){let e=E();i(0,"h1",14),a(1,"Credenciais"),t(),i(2,"form",68)(3,"div",16)(4,"label",53),a(5,"Email para Autentica\xE7\xE3o:"),t(),m(6,"input",54),t(),i(7,"div",16)(8,"label",69),a(9,"Senha: "),t(),i(10,"p-password",70),S(11,Pe,3,0,"ng-template",71),t()(),i(12,"div",16)(13,"label",72),a(14,"Confirme a senha: "),t(),m(15,"p-password",73),t(),S(16,Ie,2,0,"div",74),t(),i(17,"div",50)(18,"p-button",51),b("onClick",function(){let n=_(e).prevCallback;return y(n.emit())}),t(),i(19,"p-button",75),b("onClick",function(){_(e);let n=x();return y(n.showTermo=!0)}),t()()}if(r&2){let e=x();o(2),s("formGroup",e.credentialsForm),o(4),c(e.credentialsForm.controls.email.invalid&&(e.credentialsForm.controls.email.dirty||e.credentialsForm.controls.email.touched)?"ng-invalid ng-dirty":""),o(4),v(p(18,g)),c(e.credentialsForm.controls.senha.invalid&&(e.credentialsForm.controls.senha.dirty||e.credentialsForm.controls.senha.touched)?"ng-invalid ng-dirty":""),s("toggleMask",!0)("inputStyle",p(19,g)),o(5),v(p(20,g)),c((e.credentialsForm.controls.confirmaSenha.dirty||e.credentialsForm.controls.confirmaSenha.touched)&&(e.credentialsForm.errors!=null&&e.credentialsForm.errors.mismatch)?"ng-invalid ng-dirty":""),s("inputStyle",p(21,g))("feedback",!1)("toggleMask",!0),o(),s("ngIf",(e.credentialsForm.controls.confirmaSenha.dirty||e.credentialsForm.controls.confirmaSenha.touched)&&(e.credentialsForm.errors==null?null:e.credentialsForm.errors.mismatch)),o(3),s("disabled",!e.credentialsForm.valid)}}var T=class{constructor(){this.nome="",this.credenciais={email:"",senha:""},this.cnpj="",this.instituicao_de_ensino=!1,this.info="",this.contato_principal={email:"",telefone:""},this.contato_candidaturas={email:"",telefone:""},this.endereco={rua:"",bairro:"",cidade:"",estado:"",pais:""},this.website="",this.redes_sociais=[]}},Ct=(()=>{let u=class u{constructor(l,n,f,h,C){this.formBuilder=l,this.orgService=n,this.authService=f,this.messageService=h,this.router=C,this.subscriptions=[],this.confirmTermo=!1,this.states=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amap\xE1"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Cear\xE1"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Esp\xEDrito Santo"},{value:"GO",label:"Goi\xE1s"},{value:"MA",label:"Maranh\xE3o"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Par\xE1"},{value:"PB",label:"Para\xEDba"},{value:"PR",label:"Paran\xE1"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piau\xED"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rond\xF4nia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"S\xE3o Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"},{value:"_0",label:"Outro"}],this.countries=[{value:"BRA",label:"Brasil"},{value:"__0",label:"Outro"}],this.showTermo=!1}ngOnInit(){this.authService.isAuthenticated()?this.retrieveAuthOrgData():this.org=new T,this.buildForms()}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}retrieveAuthOrgData(){let l=this.orgService.getAuthOrg().subscribe(n=>{n.data&&(this.org=n.data)});this.subscriptions.push(l)}buildForms(){this.profileForm=this.formBuilder.group({nome:[this.org.nome,[d.required]],cnpj:[this.org.cnpj,[d.required]],ie:[this.org.instituicao_de_ensino,[d.required]],info:[this.org.info,[d.required]]}),this.mainContactForm=this.formBuilder.group({email:[this.org.contato_principal.email,[d.email,d.required]],telefone:[this.org.contato_principal.telefone],website:[this.org.website,[]],redesSociaisA:[this.org.redes_sociais?.[0]??"",[]],redesSociaisB:[this.org.redes_sociais?.[1]??"",[]]}),this.applianceContactForm=this.formBuilder.group({email:[this.org.contato_candidaturas?.email??"",[d.email]],telefone:[this.org.contato_candidaturas?.telefone??""]}),this.addressForm=this.formBuilder.group({rua:[this.org.endereco.rua??""],bairro:[this.org.endereco.bairro??""],cidade:[this.org.endereco.cidade,[d.required]],estado:[this.org.endereco.estado,[d.required,d.minLength(2),d.maxLength(2)]],pais:[this.org.endereco.pais,[d.required,d.minLength(3),d.maxLength(3)]]}),this.credentialsForm=this.formBuilder.group({email:[this.org.credenciais.email,[d.required,d.email]],senha:[this.org.credenciais.senha??"",[d.required,d.minLength(5)]],confirmaSenha:["",[d.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(l){let n=l.get("senha")?.value,f=l.get("confirmaSenha")?.value;return n&&f&&n!==f?{mismatch:!0}:null}updateModel(){let l=this.profileForm.getRawValue(),n=this.mainContactForm.getRawValue(),f=this.applianceContactForm.getRawValue(),h=this.addressForm.getRawValue(),C=this.credentialsForm.getRawValue();this.org.nome=l.nome,this.org.cnpj=l.cnpj,this.org.instituicao_de_ensino=l.ie,this.org.info=l.info,this.org.contato_principal.email=n.email,this.org.contato_principal.telefone=n.telefone,this.org.website=n.website,n.redesSociaisA&&this.org.redes_sociais?.push(n.redesSociaisA),n.redesSociaisB&&this.org.redes_sociais?.push(n.redesSociaisB),f.email&&(this.org.contato_candidaturas={email:f.email,telefone:""}),f.telefone&&(this.org.contato_candidaturas?this.org.contato_candidaturas.telefone=f.telefone:this.org.contato_candidaturas={email:"",telefone:f.telefone}),this.org.endereco.rua=h.rua??null,this.org.endereco.bairro=h.bairro??null,this.org.endereco.cidade=h.cidade,this.org.endereco.estado=h.estado,this.org.endereco.pais=h.pais,this.org.credenciais.email=C.email,this.org.credenciais.senha=C.senha}save(){let l=this.orgService.createOrg(this.org)?.subscribe({next:n=>{n.data&&(this.messageService.add({severity:"success",detail:"Cadastro realizado!",key:"demo-main"}),this.redirectHome())},error:n=>{this.messageService.add({severity:"error",detail:"N\xE3o foi poss\xEDvel salvar seu cadastro. "+n,key:"demo-main"})}});this.subscriptions.push(l)}submit(){this.updateModel(),this.save()}redirectHome(){this.router.navigate(["demo/login"])}};u.\u0275fac=function(n){return new(n||u)(F(Q),F(_e),F(j),F(G),F(D))},u.\u0275cmp=P({type:u,selectors:[["app-cadastro"]],standalone:!0,features:[V],decls:24,vars:24,consts:[[1,"demo-bg","p-5","min-h-screen"],[1,"md:w-10","lg:w-8","mx-auto","mb-3","flex","justify-content-end",2,"max-width","40rem"],["icon","pi pi-times","iconPos","left","title","Cancelar",3,"onClick","text"],[1,"md:w-10","lg:w-8","mx-auto","p-5","border-round-lg","bg-white","opacity-90",2,"max-width","40rem"],["orientation","horizontal",3,"linear"],["pTemplate","header"],["pTemplate","content"],["header","Leia com aten\xE7\xE3o","closable","true",3,"visibleChange","visible","draggable","resizable","breakpoints"],["severity","secondary","text","true",3,"label"],[1,"text-sm"],[1,"mx-auto","my-5"],["severity","info",3,"onClick","label"],[2,"background-color","transparent"],[1,"pi","pi-user",2,"font-size","1.5rem"],[1,"my-5"],[1,"flex","flex-column","gap-5",3,"formGroup"],[1,"flex","flex-column","gap-2"],["for","nome"],["pInputText","","formControlName","nome","id","nome","autocomplete","true"],[1,"grid"],[1,"col-12","md:col-6","flex","flex-column","gap-3"],["for",""],[1,"col-12","flex","align-items-center"],["formControlName","ie","name","ie","id","ie","inputId","ie",3,"value"],["for","ie",1,"ml-2"],["formControlName","ie","name","ie","id","empresa","inputId","empresa",3,"value"],["for","empresa",1,"ml-2"],[1,"col-12","md:col-6","flex","flex-column","gap-2"],["for","cnpj"],["formControlName","cnpj","id","cnpj","mask","99.999.999/9999-99","autocomplete","true",3,"unmask"],["for","info"],["id","info","formControlName","info","rows","5","cols","30","pInputTextarea","",3,"autoResize"],[1,"my-3","flex","flex-wrap","pt-4","justify-content-center","md:justify-content-end"],["label","Pr\xF3ximo","icon","pi pi-arrow-right","iconPos","right",3,"onClick","disabled"],[1,""],[1,"pi","pi-map-marker",2,"font-size","1.5rem"],[1,"grid",3,"formGroup"],[1,"col-12","mb-3"],["for","rua"],["pInputText","","formControlName","rua","id","rua"],[1,"col-12","md:col-6","mb-3"],["for","bairro"],["formControlName","bairro","pInputText","","id","bairro"],[1,"col-12","md:col-6"],["for","cidade"],["formControlName","cidade","pInputText","","id","cidade"],["for","estado"],["optionLabel","label","optionValue","value","placeholder","Estado","formControlName","estado","id","estado",3,"options"],["for","pais"],["formControlName","pais","placeholder","Pa\xEDs","id","pais","optionLabel","label","optionValue","value",3,"options"],[1,"my-5","flex","flex-wrap","gap-5","pt-4","justify-content-center","md:justify-content-between"],["label","Anterior","severity","secondary","icon","pi pi-arrow-left",3,"onClick"],[1,"pi","pi-at",2,"font-size","1.5rem"],["for","email"],["pInputText","","formControlName","email","id","email"],["for","telefone"],["formControlName","telefone","id","telefone","mask","(99) 9999-9999?9"],["for","website"],["formControlName","website","pInputText","","id","website"],["for","redes"],["pInputText","","id","redesA","formControlName","redesSociaisA"],["pInputText","","id","redesB","formControlName","redesSociaisB"],[1,"col-12","my-2"],["for","email2"],["pInputText","","formControlName","email","id","email2"],["for","telefone2"],["formControlName","telefone","id","telefone2","mask","(99) 9999-9999?9"],[1,"pi","pi-id-card",2,"font-size","1.5rem"],[1,"w-full","md:w-8","mx-auto","flex","flex-column","gap-5",3,"formGroup"],["for","senha"],["formControlName","senha","id","senha",3,"toggleMask","inputStyle"],["pTemplate","footer"],["for","confirmaSenha"],["formControlName","confirmaSenha","id","confirmaSenha",3,"inputStyle","feedback","toggleMask"],["class","ng-invalid ng-dirty",4,"ngIf"],["type","submit","label","Cadastrar","icon","pi pi-check","iconPos","right",1,"align-self-center",3,"onClick","disabled"],[1,"pl-2","ml-2","mt-0",2,"line-height","1.5"],[1,"ng-invalid","ng-dirty"]],template:function(n,f){n&1&&(i(0,"div",0)(1,"div",1)(2,"p-button",2),b("onClick",function(){return f.redirectHome()}),t()(),i(3,"div",3)(4,"p-stepper",4)(5,"p-stepperPanel"),S(6,Fe,2,0,"ng-template",5)(7,xe,31,15,"ng-template",6),t(),i(8,"p-stepperPanel"),S(9,Ee,2,0,"ng-template",5)(10,we,31,20,"ng-template",6),t(),i(11,"p-stepperPanel"),S(12,Me,2,0,"ng-template",5)(13,ke,43,29,"ng-template",6),t(),i(14,"p-stepperPanel"),S(15,Te,2,0,"ng-template",5)(16,Ae,20,22,"ng-template",6),t()()()(),i(17,"p-dialog",7),N("visibleChange",function(C){return A(f.showTermo,C)||(f.showTermo=C),C}),i(18,"div"),m(19,"p-button",8)(20,"app-termo",9)(21,"app-privacidade",9),i(22,"div",10)(23,"p-button",11),b("onClick",function(){return f.submit()}),t()()()()),n&2&&(o(2),s("text",!0),o(2),v(p(18,w)),s("linear",!0),o(),v(p(19,w)),o(),v(p(20,w)),o(),v(p(21,w)),o(10),v(p(22,ye)),I("visible",f.showTermo),s("draggable",!1)("resizable",!1)("breakpoints",p(23,Se)),o(2),s("label",""),o(4),s("label","Aceito os Termos de Servi\xE7o e a Pol\xEDtica de Privacidade e quero continuar o cadastro"))},dependencies:[R,B,X,J,O,H,W,U,K,L,q,z,Z,Y,ee,$,ie,te,oe,ne,le,re,ae,me,se,ce,de,ue,pe,ve,fe,ge,he,Ce,be,k,M]});let r=u;return r})();export{Ct as CadastroComponent};
