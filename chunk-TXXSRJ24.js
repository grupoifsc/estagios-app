import{a as oe,b as re,c as ae,d as le,e as pe,f as me}from"./chunk-WK274B67.js";import{a as ie,b as ne}from"./chunk-SOUYIAI6.js";import"./chunk-PBY3JU35.js";import{a as Q,d as W,f as X}from"./chunk-5QUZC232.js";import{b as Y}from"./chunk-MZUMFQTG.js";import{a as Z,b as ee}from"./chunk-GVFXADYD.js";import{a as te}from"./chunk-KRKTB3MH.js";import"./chunk-3LEAUZE5.js";import{a as G,b as q,d as U,e as H}from"./chunk-6AI766QY.js";import{m as N,n as J,o as K}from"./chunk-LJW6TDUS.js";import"./chunk-U4YWP6KT.js";import"./chunk-P4QSJQM7.js";import"./chunk-XSSXK7EZ.js";import"./chunk-IWKJIBAF.js";import"./chunk-MV5KNEQQ.js";import"./chunk-RSZHZ2NF.js";import{d as A,e as O,f as $}from"./chunk-C6BRYRYM.js";import{c as z,d as R}from"./chunk-O3TBEYO6.js";import"./chunk-6ICFUDYJ.js";import"./chunk-2TSUYDBP.js";import"./chunk-7EHZQ6MH.js";import"./chunk-X7OLMZPY.js";import"./chunk-VELDXNG4.js";import"./chunk-OKHOSK7W.js";import{e as v,i as B,n as j}from"./chunk-MFXFRBM3.js";import{m as F,p as L,r as M,s as P}from"./chunk-6M6X6DMA.js";import{Cb as g,Db as p,Eb as w,Mb as T,Nb as D,Ob as C,Ra as _,Sa as x,Xb as y,Yb as k,Zb as I,_b as V,ba as E,cb as h,fb as f,ka as c,la as d,lb as n,mb as o,nb as m,rb as b,ub as u,vb as s}from"./chunk-OK7OUPQM.js";import"./chunk-JQ2Q4TV4.js";var se=()=>[10,25,50],ce=()=>["titulo","criado_por.nome"],de=()=>[],ue=()=>[1,2,3,4,5];function _e(i,r){if(i&1){let a=b();n(0,"div",20)(1,"p-iconField",21),m(2,"input",22,3),n(4,"p-inputIcon",23)(5,"i",24),u("click",function(){c(a);let t=g(3);s();let l=g(1);return d(l.filterGlobal(t.value,"contains"))}),o()()()()}}function fe(i,r){i&1&&(n(0,"tr")(1,"th",25),p(2,"T\xEDtulo"),o(),n(3,"th",26),p(4,"Data de cria\xE7\xE3o"),o(),m(5,"th"),o())}function ge(i,r){if(i&1){let a=b();n(0,"tr")(1,"td"),p(2),o(),n(3,"td"),p(4),y(5,"date"),o(),n(6,"td")(7,"div",20)(8,"p-button",27),u("onClick",function(){let t=c(a).$implicit,l=s(2);return d(l.see(t.id,t))}),o(),n(9,"p-button",28),u("onClick",function(){let t=c(a).$implicit,l=s(2);return d(l.edit(t.id,t))}),o(),n(10,"p-button",29),u("onClick",function(){let t=c(a).$implicit,l=s(2);return d(l.delete(t.id))}),o()()()()}if(i&2){let a=r.$implicit;_(2),w(a.titulo),_(2),w(I(5,8,a.criado_em,"short")),_(4),f("rounded",!0)("text",!0),_(),f("rounded",!0)("text",!0),_(),f("rounded",!0)("text",!0)}}function he(i,r){i&1&&(n(0,"tr")(1,"td",30),p(2,"Nenhuma vaga criada."),o()())}function be(i,r){if(i&1){let a=b();n(0,"p-table",15,2),u("onLazyLoad",function(t){c(a);let l=s();return d(l.onLazyLoad(t))}),h(2,_e,6,0,"ng-template",16)(3,fe,6,0,"ng-template",17)(4,ge,11,11,"ng-template",18)(5,he,3,0,"ng-template",19),o()}if(i&2){let a,e,t=r.ngIf,l=s();f("rows",l.rows)("rowsPerPageOptions",C(11,se))("paginator",!0)("showCurrentPageReport",!0)("first",l.first)("totalRecords",(a=t.data==null?null:t.data.totalElements)!==null&&a!==void 0?a:50)("lazy",!0)("pageLinks",5)("lazyLoadOnInit",!1)("globalFilterFields",C(12,ce))("value",(e=t.data==null?null:t.data.content)!==null&&e!==void 0?e:C(13,de))}}function xe(i,r){i&1&&(n(0,"div",20)(1,"p-iconField",21),m(2,"input",22),n(3,"p-inputIcon",23),m(4,"i",32),o()()())}function Ce(i,r){i&1&&(n(0,"tr")(1,"th",25),p(2,"T\xEDtulo"),o(),n(3,"th",26),p(4,"Data de cria\xE7\xE3o"),o(),m(5,"th"),o())}function ve(i,r){i&1&&(n(0,"tr")(1,"td"),m(2,"p-skeleton"),o(),n(3,"td"),m(4,"p-skeleton"),o(),n(5,"td"),m(6,"p-skeleton"),o()())}function Se(i,r){i&1&&(n(0,"p-table",31),h(1,xe,5,0,"ng-template",16)(2,Ce,6,0,"ng-template",17)(3,ve,7,0,"ng-template",18),o()),i&2&&f("value",C(1,ue))}function we(i,r){if(i&1){let a=b();n(0,"h3"),p(1,"Deletar esta vaga?"),o(),n(2,"button",33),u("click",function(){c(a),s();let t=g(16);return d(t.reject())}),o()}}function ye(i,r){if(i&1){let a=b();n(0,"div",34)(1,"button",35),u("click",function(){c(a),s();let t=g(16);return d(t.reject())}),o(),n(2,"button",36),u("click",function(){c(a),s();let t=g(16);return d(t.accept())}),o()()}}var ot=(()=>{let r=class r{constructor(e,t,l,S){this.router=e,this.apiService=t,this.confirmationService=l,this.messageService=S,this.vagas$=this.apiService.getAllCreated(),this.rows=10,this.first=0,this.search=""}add(){this.router.navigate(["vagas/new"]).then(e=>{console.log(e)})}see(e,t){this.router.navigate(["/demo/vagas/"+e])}edit(e,t){this.router.navigate(["/demo/vagas/"+e+"/edit"])}delete(e){this.confirmationService.confirm({message:"Voc\xEA quer deletar este an\xFAncio de vaga?",accept:()=>{this.confirmDelete(e)}})}confirmDelete(e){this.apiService.deleteJob(e).subscribe({next:t=>{this.messageService.add({severity:"warn",detail:"Vaga deletada",key:"demo-main"}),this.reloadCurrentRoute()}})}onLazyLoad(e){console.log(JSON.stringify(e)),this.first=e.first??0,this.rows=e.rows??10,typeof e.globalFilter=="string"?this.search=e.globalFilter:typeof e.globalFilter=="object"&&e.globalFilter&&(this.search=e.globalFilter.join(" ")),this.reloadTable()}reloadTable(){let e=this.first/this.rows;this.vagas$=this.apiService.getAllCreated(this.search,e,this.rows)}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}};r.\u0275fac=function(t){return new(t||r)(x(z),x(te),x(v),x(B))},r.\u0275cmp=E({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[T([v]),D],decls:19,vars:4,consts:[["skeleton",""],["cd",""],["dt2",""],["input",""],[1,"p-4","mt-4"],[1,"mb-6"],[1,"text-4xl"],[1,"bg-teal-50","flex","flex-column","gap-1","p-3","m-2","w-11","text-color-secondary"],[1,"mb-2"],["routerLink","/demo/vagas/new",1,"p-button","no-underline"],[1,"pi","pi-plus","mr-2"],["dataKey","id",3,"rows","rowsPerPageOptions","paginator","showCurrentPageReport","first","totalRecords","lazy","pageLinks","lazyLoadOnInit","globalFilterFields","value","onLazyLoad",4,"ngIf","ngIfElse"],["styleClass","delete-dialog"],["pTemplate","header","styleClass",""],["pTemplate","footer"],["dataKey","id",3,"onLazyLoad","rows","rowsPerPageOptions","paginator","showCurrentPageReport","first","totalRecords","lazy","pageLinks","lazyLoadOnInit","globalFilterFields","value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","gap-2"],["iconPosition","right",1,"ml-auto"],["pInputText","","type","text","placeholder","Busca"],[1,"cursor-pointer"],[1,"pi","pi-search",3,"click"],[2,"width","60%"],[2,"width","30%"],["icon","pi pi-eye","title","Ver",3,"onClick","rounded","text"],["icon","pi pi-file-edit","title","Editar",3,"onClick","rounded","text"],["icon","pi pi-trash","title","Deletar",3,"onClick","rounded","text"],["colspan","5"],[3,"value"],[1,"pi","pi-search"],["pButton","","type","button","title","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],[1,"flex","flex-column","gap-2"],["type","button","pButton","","label","Cancelar",1,"p-button-primary",3,"click"],["type","button","pButton","","label","Sim, quero deletar esta vaga",1,"p-button-danger","p-button-text","font-bold",3,"click"]],template:function(t,l){if(t&1&&(n(0,"div",4)(1,"div",5)(2,"h1",6),p(3,"Vagas Criadas"),o(),n(4,"div",7)(5,"span"),p(6,"Nesta se\xE7\xE3o, voc\xEA visualiza apenas as vagas anunciadas pela sua pr\xF3pria organiza\xE7\xE3o"),o()()(),n(7,"div",8)(8,"a",9),m(9,"i",10),p(10," Anunciar Vaga"),o()(),h(11,be,6,14,"p-table",11),y(12,"async"),h(13,Se,4,2,"ng-template",null,0,V),n(15,"p-confirmDialog",12,1),h(17,we,3,0,"ng-template",13)(18,ye,3,0,"ng-template",14),o()()),t&2){let S=g(14);_(11),f("ngIf",k(12,2,l.vagas$))("ngIfElse",S)}},dependencies:[P,F,L,M,N,R,$,A,O,j,q,G,K,J,U,H,Q,W,X,Y,ne,ie,re,oe,le,ae,ee,Z,me,pe]});let i=r;return i})();export{ot as DashboardComponent};
